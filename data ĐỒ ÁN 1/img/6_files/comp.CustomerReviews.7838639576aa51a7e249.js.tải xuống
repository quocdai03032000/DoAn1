(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{300:function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a}},334:function(e,t,n){"use strict";var r=n(2),a=n(1),i=n.n(a);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){var t=Object(a.useRef)(null),n=l(Object(a.useState)(""),2),r=n[0],c=n[1],u=l(Object(a.useState)("auto"),2),s=u[0],d=u[1],p=l(Object(a.useState)("auto"),2),m=p[0],f=p[1];Object(a.useEffect)(function(){f("".concat(t.current.scrollHeight,"px")),d("".concat(t.current.scrollHeight,"px"))},[r]);return i.a.createElement("div",{style:{minHeight:m}},i.a.createElement("textarea",o({},e,{ref:t,rows:1,style:{height:s},onChange:function(n){d("auto"),f("".concat(t.current.scrollHeight,"px")),c(n.target.value),e.onChange&&e.onChange(n)}})))},s=n(3);n.d(t,"c",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"g",function(){return f}),n.d(t,"d",function(){return v}),n.d(t,"b",function(){return g}),n.d(t,"i",function(){return h}),n.d(t,"f",function(){return b}),n.d(t,"a",function(){return y});var d=r.default.div.withConfig({displayName:"style__StyledCustomerReviews",componentId:"sc-103p4dk-0"})(["word-break:break-word;opacity:",";pointer-events:",";color:",";margin:0 0 40px;.customer-reviews{&__heading{font-size:18px;line-height:24px;margin:0 0 10px;}&__top{display:flex;padding:0 48px;> .review-rating{flex-basis:335px;flex-shrink:0;margin:0 0 32px;}}&__inner{background-color:",";padding:32px 0 24px;border-radius:4px;}&__empty{display:flex;flex-direction:column;align-items:center;padding:50px 0 0;> span{font-size:14px;line-height:20px;margin:15px 0 0;}}&__pagination{> ul{justify-content:flex-end;padding:0 48px;}}}"],function(e){return e.loading?.6:1},function(e){return e.loading?"none":null},s.a.black86,s.a.white),p=r.default.div.withConfig({displayName:"style__StyledReviewRating",componentId:"sc-103p4dk-1"})(["user-select:none;.review-rating{&__inner{}&__summary{display:flex;align-items:center;}&__stars{span{margin:0 3px;&:first-child{margin:0 3px 0 0;}}}&__point{font-size:32px;line-height:40px;font-weight:700;white-space:nowrap;margin:0 16px 0 0;}&__total{font-size:14px;line-height:20px;color:",";}&__detail{margin:20px 0 0;}&__level{display:flex;margin:4px 0;align-items:center;}&__number{font-size:14px;line-height:16px;color:",";}&__btn{margin:16px 0 0;font-size:15px;background-color:",";text-align:center;cursor:pointer;color:#fff;display:inline-block;padding:12px 20px;border-radius:4px;}}"],s.a.muted,s.a.muted,s.a.blue),m=r.default.div.withConfig({displayName:"style__StyledProcessBar",componentId:"sc-103p4dk-2"})(["width:166px;height:6px;background-color:",";position:relative;z-index:1;margin:0 6px;border-radius:99em;> div{position:absolute;left:0;top:0;bottom:0;background-color:",";border-radius:99em;}"],s.a.veryLightPink,s.a.muted),f=r.default.div.withConfig({displayName:"style__StyledReviewImages",componentId:"sc-103p4dk-3"})([".review-images{&__heading{margin:0 0 8px;font-size:17px;line-height:24px;font-weight:500;}&__inner{display:flex;}&__item{width:120px;height:120px;margin:0 16px 0 0;cursor:pointer;&:last-child{position:relative;z-index:1;margin:0;}}&__img{background-size:cover;border-radius:4px;height:100%;width:100%;background-position:center;}&__total{background-color:rgba(36,36,36,0.7);font-size:17px;font-weight:500;position:absolute;left:0;top:0;right:0;bottom:0;line-height:120px;text-align:center;color:",";border-radius:4px;}}"],s.a.white),v=r.default.div.withConfig({displayName:"style__StyledFilter",componentId:"sc-103p4dk-4"})(["display:flex;padding:48px 0 32px;.filter-review{&__label{flex-shrink:0;font-size:15px;line-height:24px;margin:0 12px 0 0;padding:7px 0 0;}&__inner{flex-grow:1;display:flex;flex-wrap:wrap;}&__item{font-size:14px;line-height:20px;padding:10px 12px;border-radius:20px;color:",";background:",";margin:0 12px 12px 0;cursor:pointer;display:flex;align-items:center;user-select:none;&--active{background:#e6eef7;.filter-review{&__text{color:",";}&__check{display:block;}&__star{color:",";}}}}&__check{display:none;width:12px;height:6px;border-left:1px solid ",";border-bottom:1px solid ",";transform:rotate(-45deg);margin:-3px 4px 0 0;}&__star{font-size:16px;color:",";margin:0 0 0 4px;}}"],s.a.muted,s.a.veryLightPink,s.a.blue,s.a.yellow,s.a.blue,s.a.blue,s.a.disabled),g=r.default.div.withConfig({displayName:"style__StyledComment",componentId:"sc-103p4dk-5"})(["padding:32px 48px;display:flex;border-top:1px solid ",";.review-comment{&__user{flex-basis:335px;flex-shrink:0;&-inner{display:flex;align-items:center;}&-avatar{margin:0 12px 0 0;width:48px;height:48px;background-size:cover;border-radius:50%;position:relative;z-index:1;> img{display:block;border-radius:50%;}}&-name{font-size:16px;line-height:24px;font-weight:500;text-transform:capitalize;}&-date{font-size:14px;line-height:20px;color:",";}&-info{margin:12px 0 0;color:",";display:flex;align-items:center;> img{width:20px;height:20px;margin:0 10px 0 0;}> span{color:",";}}}&__rating-title{display:flex;align-items:center;margin:0 0 4px;}&__seller-name-attributes{display:flex;align-items:center;margin:0 0 16px;}&__rating{flex-shrink:0;}&__attributes{font-size:14px;line-height:16px;color:",";padding:0 0 0 7px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:flex;align-items:center;> span{display:inline-block;padding:0 7px;border-left:1px solid #eee;}}&__seller-name{display:flex;align-items:center;font-size:14px;line-height:20px;color:",";}&__check-icon{display:block;width:14px;height:14px;background-color:",";border-radius:50%;position:relative;z-index:1;margin:0 4px;&:before{content:'';width:6px;height:3px;border-left:1px solid #fff;border-bottom:1px solid #fff;position:absolute;display:block;left:50%;top:50%;transform:translate(-50%,-70%) rotate(-45deg);}}&__title{display:block;margin:0 0 0 12px;font-size:16px;line-height:24px;font-weight:500;color:rgb(36,36,36);}&__content{font-size:14px;line-height:20px;margin:0 0 8px;.show-more-content{color:",";cursor:pointer;}}&__labels{margin:0 0 14px;}&__label{padding:4px 12px;font-size:14px;line-height:20px;color:",";background-color:rgba(242,242,242,0.5);border:1px solid ",";border-radius:6px;margin:0 6px 6px 0;display:inline-block;user-select:none;}&__images{display:flex;flex-wrap:wrap;margin:0 -6px;}&__created-date{font-size:14px;line-height:16px;margin:0 0 16px;color:",";> span{padding:0 7px;border-left:1px solid #eee;display:inline-block;vertical-align:middle;&:first-child{padding:0 7px 0 0;border-left:0;}}}&__icon-info{width:14px;height:14px;display:inline-block;vertical-align:middle;margin:0 0 0 4px;cursor:pointer;position:relative;top:-1px;}&__tooltip-outer{position:relative;z-index:1;&:hover{.review-comment__tooltip{display:block;}}}&__tooltip{display:none;user-select:none;padding:8px 14px;color:",";background-color:",";font-size:11px;line-height:16px;border-radius:4px;position:absolute;white-space:nowrap;bottom:-40px;left:50%;transform:translate(-50%,0);&:before{content:'';width:0;height:0;border-style:solid;border-width:0 7px 8px 7px;border-color:transparent transparent "," transparent;position:absolute;top:-7px;left:50%;margin-left:3px;transform:translate(-50%,0);}}&__image{width:152px;height:152px;border-radius:4px;background-size:cover;background-position:center;margin:0 6px 16px;cursor:pointer;}&__thank{padding:8px 16px 9px;font-size:14px;line-height:20px;color:",";border:1px solid ",";font-weight:500;border-radius:4px;margin:0 8px 0 0;cursor:pointer;display:inline-block;user-select:none;> svg,> span{display:inline-block;vertical-align:middle;}> svg{margin:0 8px 0 0;}&--active{background-color:#e6eef7;border-color:transparent;}}&__reply{padding:8px 16px 9px;font-size:14px;line-height:20px;color:",";font-weight:500;cursor:pointer;display:inline-block;user-select:none;}&__sub-comments{margin:20px 0 0;}&__count{margin:16px 0 0;color:",";display:inline-block;cursor:pointer;font-weight:500;}&__icon-more{width:20px;height:20px;margin:0 8px 0 0;display:inline-block;vertical-align:middle;position:relative;top:-2px;}}"],s.a.backgroundGray,s.a.muted,s.a.muted,s.a.black86,s.a.muted,s.a.green,s.a.green,s.a.blue,s.a.muted,s.a.gray,s.a.muted,s.a.white,s.a.blue,s.a.blue,s.a.blue,s.a.blue,s.a.blue,s.a.blue),h=r.default.div.withConfig({displayName:"style__StyledSubComment",componentId:"sc-103p4dk-6"})(["margin:12px 0 0;display:flex;&:first-child{margin:20px 0 0;}.review-sub-comment{&__content{font-size:14px;line-height:20px;margin:4px 0 0;.show-more-content{color:",";cursor:pointer;}}&__avatar-thumb{width:32px;height:32px;background-size:cover;margin:0 8px 0 0;border-radius:50%;min-width:32px;}&__inner{padding:10px 12px;border:1px solid ",";background-color:#fafafa;border-radius:12px;flex-grow:1;}&__avatar{display:flex;align-items:center;&-name{font-size:14px;line-height:20px;font-weight:500;text-transform:capitalize;}&-date{color:",";margin:0 0 0 8px;padding:0 0 0 10px;position:relative;z-index:1;font-size:14px;line-height:20px;&:before{content:'';height:4px;width:4px;background-color:",";border-radius:50%;position:absolute;top:50%;left:0;margin:-2px 0 0;}}}&__check-icon{display:block;width:10px;height:10px;background-color:",";border-radius:50%;position:relative;z-index:1;margin:0 0 0 4px;&:before{content:'';width:5px;height:3px;border-left:1px solid #fff;border-bottom:1px solid #fff;position:absolute;display:block;left:50%;top:50%;transform:translate(-50%,-70%) rotate(-45deg);}}}"],s.a.blue,s.a.backgroundGray,s.a.muted,s.a.muted,s.a.blue),b=r.default.div.withConfig({displayName:"style__StyledReplyComment",componentId:"sc-103p4dk-7"})(["margin:12px 0;.reply-comment{&__outer{display:flex;}&__avatar{width:32px;height:32px;border-radius:50%;background-size:cover;background-position:center;flex-shrink:0;margin:0 8px 0 0;img{display:block;border-radius:50%;background-color:",";}}&__wrapper{position:relative;z-index:1;flex-grow:1;}&__submit{position:absolute;z-index:1;width:17px;right:12px;bottom:16px;cursor:pointer;}&__count{font-size:12px;line-height:1;margin:4px 0 8px 40px;color:",";}&__error{color:",";margin:0 0 12px;}&__success{width:280px;padding:16px;background-color:rgba(231,248,241,0.95);color:#0d5302;border-radius:16px;position:fixed;z-index:9999;left:50%;top:50%;transform:translate(-50%,-50%);font-size:13px;line-height:20px;display:flex;flex-direction:column;justify-content:center;align-items:center;> span{margin:8px 0 0;}}}"],s.a.backgroundGray,s.a.danger,s.a.danger),y=Object(r.default)(u).withConfig({displayName:"style__StyledAutoTextArea",componentId:"sc-103p4dk-8"})(["border:1px solid ",";padding:10px 40px 10px 12px;border-radius:12px;width:100%;outline:0;font-size:13px;line-height:20px;resize:none;overflow:hidden;&:focus{border-color:",";}"],s.a.veryLightPink,s.a.blue)},470:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(12),o=n.n(i),l=n(2),c=n(524);function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=l.default.div.withConfig({displayName:"Stars__StyledStars",componentId:"sc-15olgyg-0"})(["position:relative;z-index:1;display:inline-block;> div{white-space:nowrap;overflow:hidden;position:absolute;top:0;left:0;}span{display:inline-block;vertical-align:middle;svg{display:block;}}"]);t.a=function(e){for(var t=e.size,n=void 0===t?12:t,r=e.ratingNumber,i=void 0===r?0:r,l=u(e,["size","ratingNumber"]),d=[],p=0;p<5;p++)d.push(p);return a.a.createElement(s,l,o()(d,function(e){return a.a.createElement("span",{key:"index-".concat(e)},a.a.createElement(c.a,{size:n}))}),a.a.createElement("div",{style:{width:i/5*100+"%"}},o()(d,function(e){return a.a.createElement("span",{key:"index-".concat(e)},a.a.createElement(c.a,{size:n,active:!0}))})))}},524:function(e,t,n){"use strict";var r=n(1),a=n.n(r);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}t.a=function(e){var t=e.active,n=void 0!==t&&t,r=e.size,l=void 0===r?36:r,c=o(e,["active","size"]);return n?a.a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 32 32"},c),a.a.createElement("path",{fill:"#FDD835",fillRule:"evenodd",stroke:"#FFB500",strokeWidth:"1.5",d:"M16 1.695l-4.204 8.518-9.401 1.366 6.802 6.631-1.605 9.363L16 23.153l8.408 4.42-1.605-9.363 6.802-6.63-9.4-1.367L16 1.695z"})):a.a.createElement("svg",i({xmlns:"http://www.w3.org/2000/svg",width:l,height:l,viewBox:"0 0 32 32"},c),a.a.createElement("path",{fill:"none",fillRule:"evenodd",stroke:"#FFB500",strokeWidth:"1.5",d:"M16 1.695l-4.204 8.518-9.401 1.366 6.802 6.631-1.605 9.363L16 23.153l8.408 4.42-1.605-9.363 6.802-6.63-9.4-1.367L16 1.695z"}))}},584:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(28),o=n(8),l=n(4),c=n.n(l),u=n(12),s=n.n(u),d=n(60),p=n.n(d),m=n(7),f=n.n(m),v=n(59),g=n.n(v),h=n(470),b=n(334),y=function(e){var t=e.percent,n=void 0===t?0:t;return a.a.createElement(b.e,null,a.a.createElement("div",{style:{width:n+"%"}}))},_=n(211),x=n(379);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k={checkReviewWritable:_.a,getReviewSpid:_.f},O=Object(o.b)(function(e){return{product:c()(e,"desktop.product.data",{})}},k)(function(e){var t,n=e.checkReviewWritable,i=e.getReviewSpid,o=e.stars,l=void 0===o?{}:o,u=e.ratingAverage,s=void 0===u?null:u,d=e.totalReview,p=void 0===d?null:d,m=e.product,f=void 0===m?{}:m,v=w(Object(r.useState)(!1),2),_=v[0],E=v[1],k=w(Object(r.useState)(!1),2),O=k[0],j=k[1],N=w(Object(r.useState)(null),2),S=N[0],z=N[1],C=w(Object(r.useState)(null),2),I=C[0],A=C[1],R=c()(f,"id",null),M=c()(f,"name",""),P=c()(f,"thumbnail_url","");function H(){j(function(e){return!e})}return Object(r.useEffect)(function(){n({productId:R},function(e){var t=c()(e,"data.status",!1);E(t)})},[R]),Object(r.useEffect)(function(){O&&!S&&i({productId:R},function(e){z(c()(e,"data[0].spid",null)),A(c()(e,"data[0].seller.name",""))})},[O,S]),a.a.createElement(a.a.Fragment,null,a.a.createElement(b.h,{className:"review-rating"},a.a.createElement("div",{className:"review-rating__inner"},a.a.createElement("div",{className:"review-rating__summary"},a.a.createElement("div",{className:"review-rating__point"},s),a.a.createElement("div",{className:"review-rating__stars"},a.a.createElement(h.a,{size:18,ratingNumber:parseFloat(s)}),a.a.createElement("div",{className:"review-rating__total"},p," nhận xét"))),a.a.createElement("div",{className:"review-rating__detail"},(t=[],g()(l,function(e,n){t.push(a.a.createElement("div",{key:n,className:"review-rating__level"},a.a.createElement(h.a,{size:12,ratingNumber:parseInt(n,10)}),a.a.createElement(y,{percent:c()(e,"percent",0)}),a.a.createElement("div",{className:"review-rating__number"},c()(e,"count",0))))}),t.reverse(),t)),_&&a.a.createElement("div",{className:"review-rating__btn",onClick:H},"Viết Nhận Xét"))),_&&O&&a.a.createElement(x.a,{productId:R,productSpid:S,productName:M,productThumbnail:P,productSellerName:I,afterComplete:function(){n({productId:R},function(e){var t=c()(e,"data.status",!1);E(t)})},afterClose:H}))}),j=n(11),N=Object(o.b)(function(e){return{commentImages:c()(e,"desktop.product.comment_images",[])}})(function(e){var t=e.openGallery,n=void 0===t?function(){}:t,r=e.commentImages,i=void 0===r?[]:r,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){f()(i)||n(!0,[{title:"Hình ảnh thực tế từ khách hàng(".concat(i.length,")."),images:s()(i,function(e){return{large_url:c()(e,"large_url",""),medium_url:c()(e,"medium_url",""),thumbnail_url:c()(e,"medium_url",""),small_url:c()(e,"small_url","")}})}],e)}};return f()(i)?null:a.a.createElement(b.g,{className:"review-images"},a.a.createElement("div",{className:"review-images__heading"},"Tất cả hình ảnh (",i.length,")"),a.a.createElement("div",{className:"review-images__inner"},s()(i,function(e,t){return t>5?null:a.a.createElement("div",{key:"image-".concat(t),className:"review-images__item",onClick:o(t),"data-view-id":"pdp_product_review_view_photo"},a.a.createElement("div",{className:"review-images__img",style:{backgroundImage:"url('".concat(Object(j.s)(c()(e,"medium_url",""),120),"')")}}),5===t&&i.length>6&&a.a.createElement("div",{className:"review-images__total"},"+",i.length-6))})))}),S=n(131),z=n.n(S),C=n(580),I=n.n(C),A=n(524);function R(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||P(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||P(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=[{label:"Mới nhất",value:"id|desc"},{label:"Có hình ảnh",value:"has_image"},{label:"Đã mua hàng",value:"bought"}],L=[5,4,3,2,1],T=Object(o.b)(function(e){var t,n;return{productDetail:(null==e?void 0:null===(t=e.desktop)||void 0===t?void 0:null===(n=t.product)||void 0===n?void 0:n.data)||{}}})(function(e){var t,n=e.productDetail,i=e.onFilter,o=void 0===i?function(){}:i;var l=M(Object(r.useState)([]),2),c=l[0],u=l[1],d=M(Object(r.useState)([]),2),p=d[0],m=d[1],v=(null==n?void 0:null===(t=n.current_seller)||void 0===t?void 0:t.product_id)||null;return Object(r.useEffect)(function(){u([]),m([])},[v]),a.a.createElement(b.d,{className:"filter-review"},a.a.createElement("div",{className:"filter-review__label"},"Lọc xem theo :"),a.a.createElement("div",{className:"filter-review__inner"},s()(D,function(e,t){return a.a.createElement("div",{"data-view-id":"pdp_review_filter_item","data-view-index":t,key:"".concat(t,"-").concat(e.value),className:"filter-review__item ".concat(z()(c,e.value)?"filter-review__item--active":""),onClick:(n=(null==e?void 0:e.value)||"",function(){var e=z()(c,n)?I()(c,function(e){return e!==n}):[].concat(R(c),[n]);u(e);var t="".concat(e.join(",")).concat(f()(p)?"":"".concat(f()(e)?"":",","stars|").concat(p.join("|")));o(t)})},a.a.createElement("span",{className:"filter-review__check"}),a.a.createElement("span",{className:"filter-review__text"},e.label));var n}),s()(L,function(e,t){return a.a.createElement("div",{"data-view-id":"pdp_review_filter_item","data-view-index":t+D.length,key:"start-".concat(e),className:"filter-review__item  ".concat(z()(p,e)?"filter-review__item--active":""),onClick:(n=e,function(){var e=z()(p,n)?I()(p,function(e){return e!==n}):[].concat(R(p),[n]);m(e);var t="".concat(c.join(",")).concat(f()(e)?"":"".concat(f()(c)?"":",","stars|").concat(e.join("|")));o(t)})},a.a.createElement("span",{className:"filter-review__check"}),a.a.createElement("span",{className:"filter-review__text"},e),a.a.createElement(A.a,{className:"filter-review__star",size:16,active:z()(p,e)}));var n})))}),F=n(608),G=(n(6),n(2)),B=n(45);function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=X(e);if(t){var a=X(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;return W(e)}(this,n)}}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=G.default.ul.withConfig({displayName:"Navigation__Wrapper",componentId:"dgcpmq-0"})(["display:flex;margin:0;list-style:none;li{margin-left:8px;}.btn{cursor:pointer;display:flex;justify-content:center;align-items:center;width:28px;height:28px;color:#333333;font-weight:500;background-color:#f7f7f7;border-radius:14px;&:hover{background-color:#c1e7ff;}&.active{cursor:default;color:#ffffff;background-color:#189eff;&:hover{background-color:#189eff;}}&.prev,&.next{font-size:20px;background-color:#ffffff;border:1px solid #c6c6c6;&:hover{background-color:#ffffff;}}}"]),Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(o,a.a.Component);var t,n,r,i=$(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return K(W(e=i.call.apply(i,[this].concat(n))),"onChangePage",function(t,n){t.preventDefault();var r=e.props.onChangePage;r&&r(n)}),e}return t=o,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.page,r=t.total;if(!n||!r||1===r)return null;var i,o,l=n>1,c=n!==r;n<=3?(i=1,o=5):n>=r-2?(i=r-5,o=r):(i=n-2,o=n+2),i<1&&(i=1),o>r&&(o=r);for(var u=[],s=function(t){u.push(a.a.createElement("li",{key:t},a.a.createElement("a",{onClick:function(n){return e.onChangePage(n,t)},className:"btn ".concat(t===n?"active":"")},t)))},d=i;d<=o;d++)s(d);return a.a.createElement(J,{style:this.props.style},l&&a.a.createElement("li",null,a.a.createElement("a",{onClick:function(t){return e.onChangePage(t,n-1)},className:"btn prev"},a.a.createElement(B.b,null))),u,c&&a.a.createElement("li",null,a.a.createElement("a",{onClick:function(t){return e.onChangePage(t,n+1)},className:"btn next"},a.a.createElement(B.c,null))))}}])&&V(t.prototype,n),r&&V(t,r),o}();K(Y,"defaultProps",{onChangePage:function(){}});var Q=n(597),Z=n.n(Q);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var te=function(e){var t=Z()();return a.a.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"80",height:"80",viewBox:"0 0 80 80"},e),a.a.createElement("defs",null,a.a.createElement("path",{id:"".concat(t,"-a"),d:"M43.716 5.432l2.859 10.239a7.29 7.29 0 004.228 4.796l9.682 3.99c5.349 2.204 6.112 9.605 1.327 12.87l-8.661 5.913a7.327 7.327 0 00-3.158 5.57l-.708 10.613c-.39 5.86-7.057 8.872-11.592 5.235l-8.212-6.585a7.085 7.085 0 00-6.18-1.354l-10.12 2.57c-5.59 1.418-10.473-4.122-8.492-9.635l3.585-9.982a7.441 7.441 0 00-.66-6.407L2.067 24.24c-3.064-4.985.584-11.419 6.344-11.189l10.428.415a7.106 7.106 0 005.772-2.606l6.692-8.147C35-1.787 42.136-.223 43.716 5.433z"}),a.a.createElement("path",{id:"".concat(t,"-c"),d:"M28.34 5.431l2.86 10.24c.608 2.176 2.168 3.947 4.227 4.796l9.683 3.99c5.348 2.204 6.111 9.604 1.328 12.87l-8.662 5.913a7.326 7.326 0 00-3.158 5.57l-.709 10.613c-.026.39-.08.766-.159 1.13C12.394 55.609-1.723 35.19.251 13.338l3.213.127a7.1 7.1 0 005.77-2.606l6.694-8.147c3.696-4.499 10.834-2.935 12.412 2.72z"}),a.a.createElement("path",{id:"".concat(t,"-e"),d:"M29.628 11.393c.658-3.136 3.67-5.132 6.73-4.458 3.06.673 5.007 3.761 4.35 6.897-.657 3.135-3.67 5.132-6.73 4.458-3.06-.674-5.007-3.761-4.35-6.897zM7.276.53c3.059.674 5.006 3.762 4.349 6.898-.657 3.135-3.67 5.132-6.729 4.457-3.06-.674-5.007-3.762-4.35-6.897.657-3.136 3.67-5.131 6.73-4.458z"}),a.a.createElement("path",{id:"".concat(t,"-g"),d:"M.75 8.56c.165-.784.919-1.283 1.683-1.114l3.957.87c.765.169 1.252.942 1.087 1.725-.164.784-.917 1.283-1.682 1.114l-.499-.11c-.422 5.407 3.124 10.446 8.436 11.616 5.311 1.17 10.564-1.932 12.346-7.04l-.5-.11c-.764-.168-1.251-.94-1.086-1.724.163-.784.917-1.283 1.682-1.114l3.957.871c.765.169 1.252.94 1.087 1.724-.164.784-.918 1.283-1.682 1.114l-.666-.146c-2.126 6.674-8.892 10.77-15.734 9.264-6.84-1.506-11.369-8.09-10.633-15.069l-.665-.147C1.074 10.116.587 9.344.75 8.56zm21.025-4.917c.164-.783.917-1.282 1.683-1.114l.276.06c.765.17 1.252.941 1.087 1.725-.164.784-.917 1.283-1.682 1.114l-.277-.06c-.764-.169-1.251-.94-1.087-1.725zM12.655.15l.277.061c.765.168 1.252.941 1.087 1.724-.164.785-.917 1.284-1.682 1.115l-.278-.06c-.764-.17-1.25-.941-1.087-1.725.165-.785.918-1.283 1.683-1.115z"})),a.a.createElement("g",{fill:"none",fillRule:"evenodd",opacity:"0.997"},a.a.createElement("g",{transform:"rotate(-12 67.32 3.796)"},a.a.createElement("mask",{id:"".concat(t,"-b"),fill:"#fff"},a.a.createElement("use",{xlinkHref:"#".concat(t,"-a")})),a.a.createElement("path",{fill:"#C7C7C7",d:"M-6.732-7.793h79.409v81.922H-6.732z",mask:"url(#".concat(t,"-b)")})),a.a.createElement("g",{transform:"rotate(-12 59.633 -69.346)"},a.a.createElement("mask",{id:"".concat(t,"-d"),fill:"#fff"},a.a.createElement("use",{xlinkHref:"#".concat(t,"-c")})),a.a.createElement("path",{fill:"#E0E0E0",d:"M-7.62-7.793h64.921v76.236H-7.62z",mask:"url(#".concat(t,"-d)")})),a.a.createElement("g",{transform:"rotate(-12 159.533 -57.659)"},a.a.createElement("mask",{id:"".concat(t,"-f"),fill:"#fff"},a.a.createElement("use",{xlinkHref:"#".concat(t,"-e")})),a.a.createElement("path",{fill:"#C7C7C7",d:"M-7.269-7.49h55.792v33.801H-7.269z",mask:"url(#".concat(t,"-f)")})),a.a.createElement("g",{transform:"rotate(-12 162.44 -80.152)"},a.a.createElement("mask",{id:"".concat(t,"-h"),fill:"#fff"},a.a.createElement("use",{xlinkHref:"#".concat(t,"-g")})),a.a.createElement("path",{fill:"#000",fillOpacity:"0.54",d:"M-6.969-7.773h45.907v41.475H-6.969z",mask:"url(#".concat(t,"-h)")}))))};function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var re={fetchReviews:_.c};t.default=Object(o.b)(function(e){return{productDetail:c()(e,"desktop.product.data",{})||{},reviews:c()(e,"desktop.review.reviews",{})||{}}},re)(Object(i.withRouter)(function(e){var t,n,i=e.productDetail,o=e.openGallery,l=void 0===o?function(){}:o,u=e.fetchReviews,d=void 0===u?function(){}:u,m=e.reviews,v=e.excludeReview,g=e.router;var h,y,_=c()(m,"loading",!1),x=Object(r.useRef)(null),w=Object(r.useRef)(null),E=(null==i?void 0:i.id)||null,k=(null==i?void 0:null===(t=i.current_seller)||void 0===t?void 0:t.product_id)||null,j=(null==i?void 0:null===(n=i.current_seller)||void 0===n?void 0:n.id)||null;"/ReviewPage"===(null==g?void 0:g.pathname)&&(k=(null==g?void 0:null===(h=g.query)||void 0===h?void 0:h.spid)||null,j=(null==g?void 0:null===(y=g.query)||void 0===y?void 0:y.seller_id)||null);var S=c()(m,"data",[]);return v&&v.id&&(S=p()(S,function(e){return e.id!==v.id})),Object(r.useEffect)(function(){k&&j&&d({productId:E,spid:k,sellerId:j})},[k]),null===c()(m,"reviews_count",null)?null:a.a.createElement(b.c,{loading:_,className:"customer-reviews"},a.a.createElement("div",{className:"customer-reviews__heading"},"ĐÁNH GIÁ SẢN PHẨM"),a.a.createElement("div",{className:"customer-reviews__inner"},a.a.createElement("div",{className:"customer-reviews__top"},a.a.createElement(O,{ratingAverage:c()(m,"rating_average",null),totalReview:c()(m,"reviews_count",null),stars:c()(m,"stars",{})}),a.a.createElement("div",null,a.a.createElement(N,{openGallery:l}),a.a.createElement(T,{onFilter:function(e){w&&(w.current=e,d({productId:E,spid:k,sellerId:j,sort:e}))}}))),a.a.createElement("div",{ref:x}),f()(S)?a.a.createElement("div",{className:"customer-reviews__empty"},a.a.createElement(te,null),a.a.createElement("span",null,"Không tìm thấy nhận xét phù hợp.")):s()(S,function(e,t){return a.a.createElement(F.a,ne({openGallery:l,isLast:t===S.length-1,key:e.id},e))}),a.a.createElement("div",{className:"customer-reviews__pagination"},a.a.createElement(Y,{page:c()(m,"paging.current_page",1),total:c()(m,"paging.last_page",1),onChangePage:function(e){d({productId:E,spid:k,sellerId:j,page:e,sort:null==w?void 0:w.current}),function(){if(x&&x.current){var e=x.current.offsetTop||0;window.scrollTo({top:e,behavior:"smooth"})}}()}}))))}))},597:function(e,t,n){var r=n(700),a=n(701);e.exports=function(e,t,n){var i=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var l=0;l<16;++l)t[i+l]=o[l];return t||a(o)}},606:function(e,t,n){var r=n(600);e.exports=function(e){return e&&e.length?r(e):[]}},608:function(e,t,n){"use strict";var r=n(1),a=n.n(r),i=n(8),o=n(4),l=n.n(o),c=n(7),u=n.n(c),s=n(12),d=n.n(s),p=n(300),m=n.n(p),f=n(606),v=n.n(f),g=n(34),h=n.n(g),b=n(14),y=n(470),_=n(11),x=n(334);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=function(e){var t,n,i,o,l=e.customer_id,c=void 0===l?null:l,u=e.fullname,s=void 0===u?"":u,d=e.create_at,p=void 0===d?null:d,m=e.avatar_url,f=void 0===m?"":m,v=e.content,g=void 0===v?"":v,h=e.commentator,b=void 0===h?"":h,y=w(Object(r.useState)(!1),2),E=y[0],k=y[1];return a.a.createElement(x.i,{className:"review-sub-comment"},a.a.createElement("div",{className:"review-sub-comment__avatar-thumb",style:{backgroundImage:"url('".concat(0===parseInt(c)||"tikicare"===b?"https://salt.tikicdn.com/ts/upload/89/ba/fc/0db67176df74b3f8590e96c860207d95.png":f,"')")}}),a.a.createElement("div",{className:"review-sub-comment__inner"},a.a.createElement("div",{className:"review-sub-comment__avatar"},a.a.createElement("div",{className:"review-sub-comment__avatar-name"},s),("seller"===b||"tikicare"===b)&&a.a.createElement("span",{className:"review-sub-comment__check-icon"}),a.a.createElement("div",{className:"review-sub-comment__avatar-date"},(t=new Date(1e3*p),n=t.getDate()<10?"0".concat(t.getDate()):t.getDate(),i=t.getMonth()+1<10?"0".concat(t.getMonth()+1):t.getMonth()+1,o=t.getFullYear(),"".concat(n," tháng ").concat(i,", ").concat(o)))),a.a.createElement("div",{className:"review-sub-comment__content"},Object(_.n)(g,E,function(){k(!0)},function(){k(!1)},550))))},O=n(57),j=n(211),N=n(25);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function z(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var C=function(e){var t=e.color,n=void 0===t?"#0d5cb6":t,r=e.width,i=void 0===r?20:r,o=e.height,l=void 0===o?20:o,c=z(e,["color","width","height"]);return a.a.createElement("svg",S({xmlns:"http://www.w3.org/2000/svg",width:i,height:l,viewBox:"0 0 20 20"},c),a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M0 0H20V20H0z"}),a.a.createElement("path",{fill:n,fillRule:"nonzero",d:"M14.252 17.063c.465 0 .863-.056 1.195-.167.443-.143.8-.387 1.071-.73.271-.343.429-.747.473-1.212.022-.254.006-.503-.05-.747.277-.443.404-.908.382-1.395-.01-.132-.038-.265-.083-.398.266-.398.393-.819.382-1.262 0-.166-.028-.332-.083-.498.155-.232.266-.481.332-.747l.067-.083v-.73l-.034-.083v-.05c-.022-.033-.033-.055-.033-.066-.166-.642-.531-1.069-1.096-1.279-.265-.088-.542-.133-.83-.133h-2.888c.044-.298.083-.525.116-.68.144-.742.116-1.4-.083-1.976-.078-.221-.21-.586-.399-1.096l-.149-.398c-.177-.443-.476-.753-.896-.93-.321-.144-.648-.216-.98-.216-.376 0-.742.095-1.096.283-.564.287-.84.747-.83 1.378.011.254.017.453.017.597.01.454.022.797.033 1.03 0 .055-.011.105-.033.149-.033.066-.091.172-.174.315l-.191.332c-.388.676-.681 1.174-.88 1.495-.133.199-.313.365-.54.498-.227.132-.423.215-.59.249l-.248.05H4.258c-.332 0-.614.116-.847.348-.232.233-.349.515-.349.847v6.11c0 .331.117.613.35.846.232.232.514.349.846.349h9.994zm0-1.196h-6.94l.017-6.441c.51-.244.908-.587 1.195-1.03V8.38c.21-.332.504-.836.88-1.51l.017-.017c.022-.034.1-.166.232-.399.011-.011.034-.044.067-.1.033-.055.055-.094.066-.116.155-.265.221-.548.2-.846-.012-.244-.023-.56-.034-.947v-.63c-.01-.067 0-.122.033-.167.022-.044.072-.088.15-.132.177-.089.354-.133.531-.133.166 0 .338.039.515.116.11.044.193.127.249.249.077.232.127.365.15.398.165.454.292.808.38 1.063.134.387.145.841.034 1.361-.033.188-.072.426-.116.714l-.232 1.395h4.3c.143 0 .287.022.431.066.166.067.277.216.332.448.011 0 .02.011.025.034.005.022.008.038.008.05v.232l-.033.133c-.033.121-.083.238-.15.348l-.315.465.15.531c.022.067.033.139.033.216.01.188-.05.37-.183.548l-.299.465.15.531c.01.055.022.105.033.15.011.22-.055.442-.2.664l-.265.415.1.415v.05c.033.143.044.282.033.414v.017c-.022.221-.094.404-.216.548-.122.155-.288.271-.498.349-.21.066-.487.1-.83.1zm-8.135 0h-1.86v-6.11h1.86v6.11z"})))};function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var R=function(e){var t=e.color,n=void 0===t?"#0D5CB6":t,r=e.size,i=void 0===r?20:r,o=A(e,["color","size"]);return a.a.createElement("svg",I({xmlns:"http://www.w3.org/2000/svg",width:i,height:i,viewBox:"0 0 20 20"},o),a.a.createElement("g",{fill:"none",fillRule:"evenodd"},a.a.createElement("path",{d:"M0 0h20v20H0z"}),a.a.createElement("path",{fill:n,fillRule:"nonzero",d:"M14.6 17.063c.443 0 .809-.05 1.096-.15.354-.11.637-.299.847-.564.21-.266.332-.587.365-.963.022-.321-.01-.598-.1-.83-.01-.045 0-.094.034-.15.31-.41.454-.83.431-1.261a2.554 2.554 0 00-.116-.482.196.196 0 01.033-.216c.288-.365.427-.747.415-1.145a1.57 1.57 0 00-.058-.349 2.415 2.415 0 01-.058-.265c-.022-.067-.022-.117 0-.15a1.89 1.89 0 00.432-.88c0-.01.005-.022.017-.033v-.481l-.05-.15c-.122-.476-.382-.786-.78-.93a2.549 2.549 0 00-.698-.1h-3.752c-.077 0-.122-.007-.133-.024-.01-.017-.01-.064 0-.141.023-.11.047-.257.075-.44.028-.183.055-.352.083-.506.028-.155.053-.3.075-.432.133-.686.11-1.29-.067-1.81-.066-.188-.265-.725-.597-1.61-.11-.31-.31-.526-.598-.647-.586-.244-1.15-.227-1.693.05-.377.199-.56.497-.548.896a50.472 50.472 0 00.05 1.76.95.95 0 01-.133.547L7.91 7.766c-.044.066-.2.243-.465.53-.188.2-.32.366-.398.499a.934.934 0 00-.116.481v1.621c-.003 2.29-.008 3.947-.017 4.97 0 .332.119.614.357.847.238.232.523.349.855.349h6.475zm-9.545 0c.332 0 .614-.117.846-.35.233-.232.349-.514.349-.846v-6.11c0-.331-.116-.613-.349-.846a1.152 1.152 0 00-.846-.348h-.797c-.332 0-.614.116-.847.348a1.156 1.156 0 00-.349.847v6.11c0 .331.117.613.35.846.232.232.514.349.846.349h.797z"})))},M=function(){return a.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"40",height:"40",viewBox:"0 0 40 40"},a.a.createElement("defs",null,a.a.createElement("path",{id:"tgfxhq72ja",d:"M16.666 33.333c4.453 0 8.638-1.734 11.785-4.882a16.554 16.554 0 004.882-11.785c0-4.451-1.734-8.636-4.882-11.784A16.552 16.552 0 0016.666 0 16.557 16.557 0 004.882 4.882 16.557 16.557 0 000 16.666c0 4.453 1.734 8.638 4.882 11.785a16.555 16.555 0 0011.784 4.882zM6.356 6.355a14.476 14.476 0 0110.309-4.272c3.896 0 7.558 1.517 10.312 4.272a14.484 14.484 0 014.272 10.311c0 3.896-1.517 7.558-4.272 10.313a14.488 14.488 0 01-10.312 4.271 14.484 14.484 0 01-10.311-4.272 14.484 14.484 0 01-4.272-10.312c0-3.895 1.517-7.557 4.272-10.311zm6.78 19.27h.03a.982.982 0 00.722-.32l12.5-13.541a1.074 1.074 0 00-.028-1.473.972.972 0 00-1.414.029L13.214 23.03 8.43 17.14a.972.972 0 00-1.41-.122 1.072 1.072 0 00-.116 1.467l5.5 6.772a.952.952 0 00.731.368z"})),a.a.createElement("g",{fill:"none",fillRule:"evenodd",transform:"translate(3.333 3.333)"},a.a.createElement("mask",{id:"j0h0ka0l5b",fill:"#fff"},a.a.createElement("use",{xlinkHref:"#tgfxhq72ja"})),a.a.createElement("use",{fill:"#787878",xlinkHref:"#tgfxhq72ja"}),a.a.createElement("g",{fill:"#0D5302",mask:"url(#j0h0ka0l5b)"},a.a.createElement("path",{d:"M-3.333-3.333h40v40h-40z"}))))};function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var D=1e3,L={submitReply:j.g},T=Object(i.b)(function(e){var t,n,r;return{avatarUrl:(null==e?void 0:null===(t=e.desktop)||void 0===t?void 0:null===(n=t.app)||void 0===n?void 0:null===(r=n.customer)||void 0===r?void 0:r.avatar_url)||"https:////tiki.vn/assets/img/avatar-s.png"}},L)(function(e){var t=e.id,n=void 0===t?null:t,i=e.onClose,o=void 0===i?function(){}:i,l=e.submitReply,c=void 0===l?function(){}:l,u=e.avatarUrl,s=P(Object(r.useState)(""),2),d=s[0],p=s[1],m=P(Object(r.useState)(!1),2),f=m[0],v=m[1],g=P(Object(r.useState)(!1),2),h=g[0],b=g[1];return a.a.createElement(x.f,{className:"reply-comment"},h?a.a.createElement("div",{className:"reply-comment__success"},a.a.createElement(M,null),a.a.createElement("span",null,"Gửi trả lời thành công")):a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"reply-comment__outer"},a.a.createElement("div",{className:"reply-comment__avatar",style:{backgroundImage:'url("//tiki.vn/assets/img/avatar-s.png")'}},a.a.createElement("img",{src:u,alt:""})),a.a.createElement("div",{className:"reply-comment__wrapper"},a.a.createElement(x.a,{autoFocus:!0,value:d,onChange:function(e){var t,n,r;(null==e?void 0:null===(t=e.target)||void 0===t?void 0:null===(n=t.value)||void 0===n?void 0:n.length)<=D&&p(null==e?void 0:null===(r=e.target)||void 0===r?void 0:r.value)},placeholder:"Viết câu trả lời",className:"reply-comment__input"}),a.a.createElement("img",{src:d.length>0?"https://salt.tikicdn.com/ts/upload/04/75/f0/441726ca3900c5d9c719c48457336040.png":"https://salt.tikicdn.com/ts/upload/1e/49/2d/92f01c5a743f7c8c1c7433a0a7090191.png","data-view-id":"pdp_product_review_reply_submit",onClick:function(){try{c({reviewId:n,content:d.trim()},function(){b(!0),setTimeout(function(){b(!1),o()},3e3)},function(){v(!0)})}catch(e){console.log("handleSubmitReply==>",e)}},className:"reply-comment__submit"}))),D-d.length<100&&a.a.createElement("div",{className:"reply-comment__count"},D-d.length==0?"Bạn đã viết tối đa 1000 ký tự":"Còn lại ".concat(D-d.length," ký tự để viết")),f&&a.a.createElement("div",{className:"reply-comment__error"},"Có lỗi xảy ra, vui lòng gửi lại!")))});function F(){return(F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function G(e){return function(e){if(Array.isArray(e))return V(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||U(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw i}}return n}(e,t)||U(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){if(e){if("string"==typeof e)return V(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var q=Object(b.createRoutes)().Link,$={handleLoginModal:N.i,thankReview:j.i};t.a=Object(i.b)(function(e){return{product:l()(e,"desktop.product.data",{})||{}}},$)(function(e){var t,n,i,o,c,s,p=e.isLast,f=void 0!==p&&p,g=e.id,b=void 0===g?null:g,w=e.title,E=void 0===w?"":w,j=e.content,N=void 0===j?"":j,S=e.suggestions,z=void 0===S?[]:S,I=e.status,A=void 0===I?"approved":I,M=e.thank_count,P=void 0===M?0:M,H=e.comment_count,D=void 0===H?0:H,L=e.rating,U=void 0===L?0:L,V=e.images,$=void 0===V?[]:V,W=e.thanked,X=void 0!==W&&W,K=e.created_at,J=void 0===K?null:K,Y=e.created_by,Q=void 0===Y?{}:Y,Z=e.comments,ee=void 0===Z?[]:Z,te=e.product_attributes,ne=void 0===te?[]:te,re=e.openGallery,ae=void 0===re?function(){}:re,ie=e.handleLoginModal,oe=void 0===ie?function(){}:ie,le=e.thankReview,ce=void 0===le?function(){}:le,ue=e.product,se=e.seller,de=void 0===se?{}:se,pe=e.spid,me=void 0===pe?null:pe,fe=e.timeline,ve=void 0===fe?{}:fe,ge=B(Object(r.useState)(!1),2),he=ge[0],be=ge[1],ye=B(Object(r.useState)(X),2),_e=ye[0],xe=ye[1],we=B(Object(r.useState)(!1),2),Ee=we[0],ke=we[1],Oe=B(Object(r.useState)(!1),2),je=Oe[0],Ne=Oe[1],Se=B(Object(r.useState)(!1),2),ze=Se[0],Ce=Se[1];function Ie(){Ne(function(e){return!e})}var Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(){u()($)||ae(!0,[{title:"Hình ảnh thực tế từ khách hàng(".concat($.length,")."),images:d()($,function(e){return{large_url:l()(e,"full_path",""),medium_url:l()(e,"full_path",""),thumbnail_url:l()(e,"full_path",""),small_url:l()(e,"full_path","")}})}],e)}};if("approved"!==A)return null;var Re,Me,Pe,He,De,Le,Te=(Re=h()(ee,function(e){return"seller"===e.commentator}),Me=h()(ee,function(e){return"tikicare"===e.commentator}),m()(v()([Re,Me].concat(G(ee)))));return a.a.createElement(x.b,{isLast:f,className:"review-comment"},a.a.createElement("div",{className:"review-comment__user"},a.a.createElement("div",{className:"review-comment__user-inner"},a.a.createElement("div",{className:"review-comment__user-avatar",style:{backgroundImage:"url('https://tiki.vn/assets/img/avatar.png')"}},a.a.createElement("img",{src:(null==Q?void 0:Q.avatar_url)||"",alt:""})),a.a.createElement("div",null,a.a.createElement("div",{className:"review-comment__user-name"},(null==Q?void 0:Q.name)||"Không tên"),a.a.createElement("div",{className:"review-comment__user-date"},(null==Q?void 0:null===(t=Q.contribute_info)||void 0===t?void 0:null===(n=t.summary)||void 0===n?void 0:n.joined_time)||""))),a.a.createElement("div",{className:"review-comment__user-info"},a.a.createElement("img",{src:"https://salt.tikicdn.com/ts/upload/3b/1c/35/0f7846d27b98b8fda694c6e44270e875.png"}),"Đã viết: ",a.a.createElement("span",null,(null==Q?void 0:null===(i=Q.contribute_info)||void 0===i?void 0:null===(o=i.summary)||void 0===o?void 0:o.total_review)||0," Đánh giá")),a.a.createElement("div",{className:"review-comment__user-info"},a.a.createElement("img",{src:"https://salt.tikicdn.com/ts/upload/84/41/b2/8c371b639b0d5f511b44bc20e9051210.png"}),"Đã nhận: ",a.a.createElement("span",null,(null==Q?void 0:null===(c=Q.contribute_info)||void 0===c?void 0:null===(s=c.summary)||void 0===s?void 0:s.total_thank)||0," Lượt cảm ơn"))),a.a.createElement("div",{style:{flexGrow:1}},a.a.createElement("div",{className:"review-comment__rating-title"},a.a.createElement(y.a,{className:"review-comment__rating",size:18,ratingNumber:parseInt(U,10)}),a.a.createElement(q,{route:"".concat("https://tiki.vn","/").concat(ue.url_key,"/nhan-xet/").concat(b,"?spid=").concat(me,"&seller_id=").concat((null==de?void 0:de.id)||"")},a.a.createElement("a",{className:"review-comment__title",title:'Chi tiết đánh giá sản phẩm "'.concat(ue.name,'" của ').concat(l()(Q,"name","Không tên"))},E))),a.a.createElement("div",{className:"review-comment__seller-name-attributes"},a.a.createElement("div",{className:"review-comment__seller-name"},"Đã mua từ",a.a.createElement("span",{className:"review-comment__check-icon"}),(null==de?void 0:de.name)||""),!u()(ne)&&a.a.createElement("div",{className:"review-comment__attributes"},d()(ne,function(e,t){return a.a.createElement("span",{key:"attribute-".concat(t)},e)}))),a.a.createElement("div",{className:"review-comment__content"},Object(_.n)(N,ze,function(){Ce(!0)},function(){Ce(!1)},600)),u()(z)||a.a.createElement("div",{className:"review-comment__labels"},d()(z,function(e){return a.a.createElement("div",{key:e,className:"review-comment__label"},e)})),u()($)||a.a.createElement("div",{className:"review-comment__images"},d()($,function(e,t){return a.a.createElement("div",{"data-view-id":"pdp_product_review_view_photo",key:e.id,className:"review-comment__image",style:{backgroundImage:"url('".concat(e.full_path,"')")},onClick:Ae(t)})})),a.a.createElement("div",{className:"review-comment__created-date"},a.a.createElement("span",null,"Nhận xét vào ",(Pe=new Date(1e3*J),He=Pe.getDate()<10?"0".concat(Pe.getDate()):Pe.getDate(),De=Pe.getMonth()+1<10?"0".concat(Pe.getMonth()+1):Pe.getMonth()+1,Le=Pe.getFullYear(),"".concat(He,"/").concat(De,"/").concat(Le))),u()(null==ve?void 0:ve.content)||a.a.createElement("span",null,(null==ve?void 0:ve.content)||"",a.a.createElement("span",{className:"review-comment__tooltip-outer"},a.a.createElement("img",{src:"https://salt.tikicdn.com/ts/upload/98/a1/8c/6b83c4cda47a163d2a2fc35a3e357e39.png",alt:"info",className:"review-comment__icon-info"}),a.a.createElement("div",{className:"review-comment__tooltip"},(null==ve?void 0:ve.explain)||"")))),a.a.createElement("span",{onClick:function(){Object(O.a)()?oe(!0,"login",!0,window.location.href):ce(b,function(){console.log("callback"),xe(!0)},function(){console.log("handle error"),ke(!0)})},"data-view-id":"pdp_product_review_like_buton",className:"review-comment__thank ".concat(_e?"review-comment__thank--active":"")},_e?a.a.createElement(R,null):a.a.createElement(C,null),a.a.createElement("span",null,Ee?"Thử lại":"Hữu ích"," ",(P>0||_e)&&"(".concat(_e?P+1:P,")"))),a.a.createElement("span",{"data-view-id":"pdp_product_review_reply_button",onClick:function(){Object(O.a)()?oe(!0,"login",!0,window.location.href):Ie()},className:"review-comment__reply"},"Gửi trả lời"),je&&a.a.createElement(T,{id:b,onClose:Ie}),u()(Te)||a.a.createElement("div",{className:"review-comment__sub-comments"},d()(Te,function(e,t){return!he&&t>0?null:a.a.createElement(k,F({key:e.id},e))}),D>1&&!he&&a.a.createElement("div",{className:"review-comment__count",onClick:function(){be(!0)},"data-view-id":"pdp_product_review_view_reply"},a.a.createElement("img",{src:"https://salt.tikicdn.com/ts/upload/46/4a/fc/c90b4ae516353f181f844ed98276e28b.png",className:"review-comment__icon-more"}),"Xem thêm ",D-1," câu trả lời"))))})},700:function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var a=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}},701:function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,a=n;return[a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],"-",a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]],a[e[r++]]].join("")}}}]);